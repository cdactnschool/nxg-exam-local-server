<VirtualHost *:8080>
        ServerName locsrv.in
        DocumentRoot /opt/tnschools/tnschool-local-server/

      
      LimitRequestBody 104857600


      <IfModule mod_rewrite.c>
        RewriteEngine on
        RewriteCond %{HTTP_USER_AGENT}  !12d41f4a6b7a12c6481e9145ceac9f8f
        RewriteCond %{HTTP_USER_AGENT}  !^.*Chrome.*$ 
        RewriteCond %{HTTP_USER_AGENT}  !^.*Mozilla.*$ 
        RewriteCond %{HTTP_USER_AGENT}  !^.*AppleWebKit.*$ 
        RewriteCond %{HTTP_USER_AGENT}  !^.*Safari.*$ 
        RewriteRule ^.* - [F,L]
      </IfModule>


       WSGIScriptAlias / /opt/tnschools/tnschool-local-server/tnschoollocalserver/wsgi.py

       WSGIDaemonProcess tnschool python-home=/opt/tnschools/venv/ python-path=/opt/tnschools/tnschool-local-server/
       WSGIProcessGroup tnschool


        ErrorLog ${APACHE_LOG_DIR}/error.log
        CustomLog ${APACHE_LOG_DIR}/access.log combined



      Alias /media/ /opt/tnschools/tnschool-local-server/exammgt/media/
      Alias /static /opt/tnschools/tnschool-local-server/static/

       <Directory /opt/tnschools/tnschool-local-server/>
         <Files wsgi.py>
           Require all granted
        </Files>
       </Directory>

         <Directory /opt/tnschools/tnschool-local-server/static/>
            Require all granted
        </Directory>

       <Directory /opt/tnschools/tnschool-local-server/exammgt/media/>
          Require all granted
       </Directory>
       WSGIPassAuthorization On

      SSLEngine on
      SSLCertificateFile    /etc/apache2/ssl/server.crt
      SSLCertificateKeyFile /etc/apache2/ssl/server.key
      

</VirtualHost>
